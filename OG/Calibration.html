

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Calibrating the OG-Core model &#8212; UN OG-Core Overlapping Generations Model Training</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'OG/Calibration';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Glossary" href="../appendix/glossary.html" />
    <link rel="prev" title="Loading OG-Core output" href="Output.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/UN-OG-Training_logo_long.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/UN-OG-Training_logo_long.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    United Nations OG-Core Overlapping Generations Model Training
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Coding in Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../python/intro.html">Introduction to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/StandardLibrary.html">Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/ExceptionsIO.html">Exception Handling and File Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/OOP.html">Object Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/NumPy.html">NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/Pandas.html">Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/Matplotlib.html">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/SciPy.html">SciPy: Root finding, minimizing, interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/DocStrings.html">Docstrings and Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/UnitTesting.html">Unit Testing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Git and GitHub</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../git/intro.html">Git and GitHub</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">OG Macro Model</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Overlapping Generations Macro Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install.html">Installing <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code></a></li>

<li class="toctree-l1"><a class="reference internal" href="Simulation.html">Simulating <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code></a></li>

<li class="toctree-l1"><a class="reference internal" href="Output.html">Loading <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</a></li>



<li class="toctree-l1 current active"><a class="current reference internal" href="#">Calibrating the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../appendix/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/intro.html">Appendix</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../UN-OG-Training_references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/OpenRG/UN-OG-Training" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/OpenRG/UN-OG-Training/issues/new?title=Issue%20on%20page%20%2FOG/Calibration.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/OG/Calibration.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Calibrating the OG-Core model</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Calibrating the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#demographics">Demographics</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#macro-parameters">Macro parameters</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#economic-growth-and-production">Economic growth and production</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#firm-production">Firm production</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#international-finance">International finance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fiscal-policy">Fiscal policy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tax-rates">Tax rates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pension-systems">Pension systems</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spending-parameters">Spending parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#government-financing-parameters">Government financing parameters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Exercises</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#earnings-processes">Earnings Processes</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#footnotes">Footnotes</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="calibrating-the-og-core-model">
<span id="chap-ogcalibration"></span><h1>Calibrating the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model<a class="headerlink" href="#calibrating-the-og-core-model" title="Permalink to this heading">#</a></h1>
<p>As noted in the introduction, the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model must be parametrized to represent a specific country. We refer to the process of finding parameter values that represent a specific economy as “calibration”.  Because data sources for country-specific data differ, there’s not a single way to calibrate all economies. We have therefor have created country-specific calibration packages.   Some examples of these include the <a class="reference external" href="https://github.com/PSLmodels/OG-USA">United States</a>, the <a class="reference external" href="https://github.com/PSLmodels/OG-UK">United Kingdom</a>, <a class="reference external" href="https://github.com/EAPD-DRB/OG-ZAF">South Africa</a>, <a class="reference external" href="https://github.com/Revenue-Academy/OG-IND">India</a>, and <a class="reference external" href="https://github.com/Revenue-Academy/OG-MYS">Malaysia</a>.</p>
<p>In this chapter, we describe the process of creating a country-specific calibration and provide exercises related to certain components of that calibration.  We will use as an example the calibration of <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> to South Africa, in the <a class="reference external" href="https://github.com/EAPD-DRB/OG-ZAF"><code class="docutils literal notranslate"><span class="pre">OG-ZAF</span></code></a> package.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="demographics">
<span id="secdemographics"></span><h1>Demographics<a class="headerlink" href="#demographics" title="Permalink to this heading">#</a></h1>
<p>A key feature of OG models is the ability to model the impacts of economic shocks or policy changes across generations. Because they capture generations of finitely-lived agents, OG models can be made to reflect realistic demographics.  Demographic trends are of massive importance to economic trends [TODO: add CITATIONS here]. Furthermore, there is a tremendous amount of variation in demographic trends across countries.  Consider Figure {ref}{TODO: create and reference 3 panel figure}, which shows the population distributions, and their evolution over time, for three countries: South Africa, India, and the United States. In each figure, we plot the 2023 population distribution (according to data from the <a class="reference external" href="https://population.un.org/wpp/">UN World Population Prospects</a>) and then the evolution of the population as we age it forward two, 40, and 80 years and then to it’s steady state distribution using the <code class="docutils literal notranslate"><span class="pre">demographics.py</span></code> module from the relevant country calibration (i.e., <code class="docutils literal notranslate"><span class="pre">OG-ZAF</span></code>, <code class="docutils literal notranslate"><span class="pre">OG-IND</span></code>, <code class="docutils literal notranslate"><span class="pre">OG-USA</span></code>). Comparing the 2023 distributions first, we see that South African distribution has humps, which reflect the initial wave of the HIV epidemic and then it’s echo on the next generation.  We see also that India has more young adults than the two other countries, but displays a relatively flat gradient as the number of individuals decline quickly with age, reflecting relatively high mortality rates in that country.  The United States has a more right skewed distribution than South Africa and India, with more individuals of advanced age, reflecting relatively low mortality rates for adults. As each population is simulated forward in time, we see the age distribution move to the right, with older individuals representing a larger share of the population in each country.  After about 40 years, these populations are very close to their steady-state. Since older individuals make significantly different labor supply and savings decisions than young individuals, these evolutions of the population will have profound effects on wages, interest rates, and economic growth.</p>
<p>TODO: HOW TO MAKE ONE FIGURE WITH 3 PANELS?</p>
<figure class="align-default" id="zaf-pop-fig">
<a class="bg-primary mb-1 reference internal image-reference" href="../_images/ZAF_pop_distribution.png"><img alt="ZAF_demog" class="bg-primary mb-1" src="../_images/ZAF_pop_distribution.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">South Africa</span><a class="headerlink" href="#zaf-pop-fig" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="ind-pop-fig">
<a class="bg-primary mb-1 reference internal image-reference" href="../_images/IND_pop_distribution.png"><img alt="ZAF_demog" class="bg-primary mb-1" src="../_images/IND_pop_distribution.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">India</span><a class="headerlink" href="#ind-pop-fig" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="usa-pop-fig">
<a class="bg-primary mb-1 reference internal image-reference" href="../_images/USA_pop_distribution.png"><img alt="ZAF_demog" class="bg-primary mb-1" src="../_images/USA_pop_distribution.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">United States</span><a class="headerlink" href="#usa-pop-fig" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<!-- Below I test using sphinx panels, but it doesn't seem to work -->
<p>Figure {ref}{TODO: add reference to 3 panel figure} plots population growth rates over time for the three countries illustrated above.  The growth rates are determined by the same mortality, fertility, and immigration trends that drive the evolution of the population in Figure {ref}{TODO: create and reference 3 panel figure}. In terms of population growth, we see that in all countries the population growth rate is declining in each of the three counties over the next 60 years.  This is consistent with what we saw in the evolution of the population distribution in the three countries above: each economy is aging and with relatively more older individuals, total fertility will be declining.  Looking at the level of population growth in the long run in <a class="reference internal" href="#pop-growth-rates-fig"><span class="std std-numref">Figure 5</span></a>, we see that India and the United States will have negative population growth, which will put downward pressure on their long run economic growth rates.  In contract, South Africa will have positive population growth, owing to it’s relatively high fertility rates, which will contribute positively to that economy in the long run.</p>
<figure class="align-default" id="pop-growth-rates-fig">
<a class="bg-primary mb-1 reference internal image-reference" href="OG/images/pop_growth_rates.png"><img alt="ZAF_demog" class="bg-primary mb-1" src="OG/images/pop_growth_rates.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">Population Growth Rates in South Africa, India, and the United States</span><a class="headerlink" href="#pop-growth-rates-fig" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The population distribution and growth rates in the plots above were created using the <code class="docutils literal notranslate"><span class="pre">demographics.py</span></code> module from the relevant country calibration repository. Each of these country calibrations utilizes population data from the <a class="reference external" href="https://population.un.org/wpp/">UN World Population Prospects</a> database, which provides consistent data on the population distribution and age-specific mortality, fertility, and immigration rates by country for many countries.  Note that although immigration rates are provided, the <code class="docutils literal notranslate"><span class="pre">demographics.py</span></code> module imputes them as the residual between the population counts by age and what would be expected given the measured fertility and mortality rates.  This is done for two reasons.  First, it ensures that the evolution of the distribution of population by age is consistent with the three forces affecting it: fertility, mortality, and immigration. Second, it is difficult to accurately measure immigration since not all immigrants are documented (with substantial variation in this across country).  Using the residual method to identify immigration may therefore be more accurate than official statistics.</p>
<p><code class="docutils literal notranslate"><span class="pre">demographics.py</span></code> has several functions with the module. For the South Africa version of <code class="docutils literal notranslate"><span class="pre">demographics,py</span></code> you can find a summary of those functions in the API documentation <a class="reference external" href="https://eapd-drb.github.io/OG-ZAF/content/api/public_api.html">here</a>.  Below we offer several exercise that have you interact with this module help you learn better understand its inputs and outputs.</p>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<div class="exercise admonition" id="ExerCalib-demo_country">

<p class="admonition-title"><span class="caption-number">Exercise 68 </span></p>
<section id="exercise-content">
<p>First, let’s create a utility to get population data from the UN Population Prospects for a country of interest to you.  Start by making a copy of <a class="reference external" href="https://github.com/EAPD-DRB/OG-ZAF/blob/main/ogzaf/demographics.py"><code class="docutils literal notranslate"><span class="pre">demographics.py</span></code></a> from the <code class="docutils literal notranslate"><span class="pre">OG-ZAF</span></code> repository.  Next, modify the <code class="docutils literal notranslate"><span class="pre">demographics.py</span></code> you just copied to gather population data for another country (i.e., not South Africa).  Each country in the UN database has a two or three digit code.  You can find a list of these <a class="reference external" href="https://unstats.un.org/unsd/methodology/m49/">here</a></p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-demo_fert">

<p class="admonition-title"><span class="caption-number">Exercise 69 </span></p>
<section id="exercise-content">
<p>Using your modified <code class="docutils literal notranslate"><span class="pre">demographics.py</span></code>, plot the fertility rates in this country.  Note that you can do this directly from the <code class="docutils literal notranslate"><span class="pre">demographics.get_fert()</span></code> function.</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-demo_mort">

<p class="admonition-title"><span class="caption-number">Exercise 70 </span></p>
<section id="exercise-content">
<p>Let’s do the same for mortality rates.  In this case, you will want interact with the <code class="docutils literal notranslate"><span class="pre">demographics.get_mort</span></code> function.</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-demo_pop_dist">

<p class="admonition-title"><span class="caption-number">Exercise 71 </span></p>
<section id="exercise-content">
<p>The <code class="docutils literal notranslate"><span class="pre">demographics.py</span></code> module uses current fertility and mortality rates (and the implied immigration rates) to project the population forward.  This ensures a population distribution in each year of the model that is consistent with the fertility, mortality, and immigration rates.  Use the <code class="docutils literal notranslate"><span class="pre">demographics.get_pop_objs</span></code> function to return a dictionary with the population object that are inputs to calibrating <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> (Use <code class="docutils literal notranslate"><span class="pre">E=20</span></code>, <code class="docutils literal notranslate"><span class="pre">S=80</span></code>, <code class="docutils literal notranslate"><span class="pre">T=320</span></code>, <code class="docutils literal notranslate"><span class="pre">curr_year=2023</span></code>).  From this dictionary, extract the population distribution object (the key for this is <code class="docutils literal notranslate"><span class="pre">omega</span></code> and it is an array with shape <code class="docutils literal notranslate"><span class="pre">TxS</span></code>, where <code class="docutils literal notranslate"><span class="pre">T</span></code> are the number of time periods and <code class="docutils literal notranslate"><span class="pre">S</span></code> is the number of age groups in the model).  Create a line plot of the population distribution in the first year, the 20th year, the 100th year, and the last year in the <code class="docutils literal notranslate"><span class="pre">omega</span></code> object.  Describe what you see happening to the distribution of people across age as you more forward in time?</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-demo_pop_growth">

<p class="admonition-title"><span class="caption-number">Exercise 72 </span></p>
<section id="exercise-content">
<p>Also in the dictionary returned from <code class="docutils literal notranslate"><span class="pre">demographics.get_pop_objs</span></code>, is the population growth rate. This is a NumPy array object with key <code class="docutils literal notranslate"><span class="pre">g_n</span></code>.  Plot <code class="docutils literal notranslate"><span class="pre">g_n</span></code>.  How does the population growth rate change over time?  Given what you’ve seen in the plots you’ve created, what can you say about the driver(s) of population growth (i.e., how are fertility and mortality rates contributing?  What about immigration (something we haven’t yet plotted, but about which you might be able to infer something given fertility and mortality rates and the change in the age distribution over time…))</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-demo_sims">

<p class="admonition-title"><span class="caption-number">Exercise 73 </span></p>
<section id="exercise-content">
<p>Now that you’ve visualized the different demographic trends in the country you’ve chosen, let’s see how these affect the equilibrium in the OG model.  This will combine what you learned in <a class="reference internal" href="Simulation.html#chap-ogsimulation"><span class="std std-ref">Simulating OG-Core</span></a> with what you’ve learned here about population demographics objects for the model. You’ll proceed with the following steps:</p>
<ol class="arabic">
<li><p>Instantiate a <code class="docutils literal notranslate"><span class="pre">Specifications</span></code> class object from <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>  <span class="n">p</span> <span class="o">=</span> <span class="n">Specifications</span><span class="p">(</span>
        <span class="n">baseline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">baseline_dir</span><span class="o">=</span><span class="n">base_dir</span><span class="p">,</span>
        <span class="n">output_base</span><span class="o">=</span><span class="n">base_dir</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>where you set the directory you’d like this output saved with a string <code class="docutils literal notranslate"><span class="pre">base_dir</span></code>.</p>
<ol class="arabic">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">ogcore.execute.runner()</span></code> function to solve for the steady state of the model.</p></li>
<li><p>Now, create a new Specifcations object with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>  <span class="n">p2</span> <span class="o">=</span> <span class="n">Specifications</span><span class="p">(</span>
        <span class="n">baseline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">baseline_dir</span><span class="o">=</span><span class="n">base_dir</span><span class="p">,</span>
        <span class="n">output_base</span><span class="o">=</span><span class="n">base_dir</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>where you set the directory you’d like the output from this second model run saved with a string <code class="docutils literal notranslate"><span class="pre">reform_dir</span></code>.</p>
<ol class="arabic simple">
<li><p>Use the demographics module you edited above to return the a dictoinary of population objects from <code class="docutils literal notranslate"><span class="pre">demographics.get_pop_objs</span></code>.  Use these to update the <code class="docutils literal notranslate"><span class="pre">p2</span></code> object:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p2</span><span class="o">.</span><span class="n">update_specifications</span><span class="p">(</span><span class="n">pop_obs_dict</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">ogcore.execute.runner()</span></code> to solve the model again, this time with the parameters in <code class="docutils literal notranslate"><span class="pre">p2</span></code>.</p></li>
<li><p>Finaly, comparet the differences in the steady-state macroeconomics variablkes using <code class="docutils literal notranslate"><span class="pre">ogcore.output_tables.macro_table_SS</span></code>.  What do you see?  How did demographics affect aggregate output?  Wages?  Interest rates?  Do you have intuition about why this happened?</p></li>
</ol>
</section>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="macro-parameters">
<h1>Macro parameters<a class="headerlink" href="#macro-parameters" title="Permalink to this heading">#</a></h1>
<p>There are a number of parameters of the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model that are calibrated using macroeconomic data from national accounts or national government reports.  In general, we’ve tended to read in data that inform these values in a single module, such as the <a class="reference external" href="https://github.com/EAPD-DRB/OG-ZAF/blob/main/ogzaf/macro_params.py"><code class="docutils literal notranslate"><span class="pre">macro_params.py</span></code></a> module in <code class="docutils literal notranslate"><span class="pre">OG-ZAF</span></code>.  We break the discussion of the parameters calibrated from macro data into separate groupings based in what they represent in <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code>.</p>
<section id="economic-growth-and-production">
<h2>Economic growth and production<a class="headerlink" href="#economic-growth-and-production" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model needs to be stationary in order to employ traditional solution methods.  This means that in the model solution, there cannot be underlying growth in the model objects.  However, the model is able to allow for such underlying growth, which may be driven by population growth rates (as discussed above) or underlying changes in productivity.  In order to solve the model, then, trend growth from these sources are removed.<a class="footnote-reference brackets" href="#stationary-note" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.  However, since different variables grow at different rates, we need to know both the underlying growth rates of the population and of technological growth.  The population growth rate was determined from the demographic data and described in Section <a class="reference internal" href="#secdemographics"><span class="std std-ref">Demographics</span></a>. We use macroeconomic data, namely the growth rate in gross domestic product per capita to pin down the rate of growth in (labor-augmenting) technological change, <code class="docutils literal notranslate"><span class="pre">g_y_annual</span></code> in <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code>.  Let <span class="math notranslate nohighlight">\(\hat{y}_t\)</span> represent the growth rate in GDP per capital from year <span class="math notranslate nohighlight">\(t-1\)</span> to year <span class="math notranslate nohighlight">\(t\)</span>.  We find the value of <code class="docutils literal notranslate"><span class="pre">g_y_annual</span></code> as equal to the long-run average of <span class="math notranslate nohighlight">\(\hat{y}_t\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-g-y-calib">
<span class="eqno">(7)<a class="headerlink" href="#equation-g-y-calib" title="Permalink to this equation">#</a></span>\[ g_y = \sum_{t = \text{First year of data}}^{\text{Most recent year of data}} \hat{y}_t\]</div>
<p>Note that you will want to use some judgement in what is the appropriate time period for the “first year of data”. For example, if the economy in question is now a market economy, but your data extend back to a time when it was not a market economy, you will probably want to exclude those data from the non-market economy period.  In addition, you might alter the calibration of <code class="docutils literal notranslate"><span class="pre">g_y</span></code> to be more forward looking and, rather than base future growth on recent history, you may use long run economic forecasts for GDP per capita.  But in either case the important thing is to be sure you are correctly mapping the data to the theoretical concept of <code class="docutils literal notranslate"><span class="pre">g_y</span></code>, which is measuring the constant rate of growth in output per person in the long run.</p>
<section id="firm-production">
<h3>Firm production<a class="headerlink" href="#firm-production" title="Permalink to this heading">#</a></h3>
<p>Changes in productivity in the short run are accounted for by changes in total factor productivity (TFP).  This parameter is denoted as <code class="docutils literal notranslate"><span class="pre">Z</span></code> in <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> and is represented by a 2-dimensional array that is <code class="docutils literal notranslate"><span class="pre">TxM</span></code> in size, where <code class="docutils literal notranslate"><span class="pre">T</span></code> is the number of time periods over the transition path and <code class="docutils literal notranslate"><span class="pre">M</span></code> is the number of industries.  Thus, you may have total factor productivity, that changes over time and varies across production industry. Values of <code class="docutils literal notranslate"><span class="pre">Z</span></code> are found through <a class="reference external" href="https://www.imf.org/external/pubs/ft/wp/1999/wp9977.pdf">growth accounting</a> techniques. However, you may not want to (or easily be able to) do the accounting yourself because it is often difficult to find the necessary data to do such accounting, which requires industry specific capital stocks.  You might find research on sectoral TFP from central banks or other sources.  For the calibration of sectoral TFP from South Africa, we used data published by the central bank. You can find a nice discussion of the process used in that case in <a class="reference external" href="https://github.com/EAPD-DRB/OG-ZAF/issues/29">this GitHub Issue</a>.</p>
<p>In addition to the level of TFP, the production functions of firms are determined by the shares of income attributable to capital, labor, and infrastructure (public capital) and the elasticity of substitution between these inputs. These are the parameters <code class="docutils literal notranslate"><span class="pre">gamma</span></code>, which is the share of income attributable to capital, and <code class="docutils literal notranslate"><span class="pre">gamma_g</span></code>, which is the share of income attributable to infrastructure. The remainder, <span class="math notranslate nohighlight">\(1-\gamma-\gamma_g\)</span> is the share attributable to labor.  Factor shares can be determined through national accounts data.  The share out output paid to labor is found from the ration of labor income (wages and salaries) to GDP, while capital’s share of income can be found through the payments to capital (interest, dividends, profits) divided by GDP.  The share of output attributed to infrastructure will then be found as a residual (= 1 - labor share - capital share), as the OG-Core model requires a constant returns to scale production function.  Determining the elasticity of substitution between inputs is more involved and would require detailed panel with prices and quantities.  We therefore recommend using a default calibration with a unit elasticity (<span class="math notranslate nohighlight">\(\epsilon_m = 1\)</span>) for each industry – or finding other research from your economy of interest where this parameter has been estimated.</p>
<p>Finally, we need to map the <span class="math notranslate nohighlight">\(M\)</span> output goods to the <span class="math notranslate nohighlight">\(I\)</span> consumption goods.  The <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model assumes what is called a “fixed coefficient” matrix for the mapping between producer outputs and consumption goods.  That is, a fixed share of each output good is required to produce each consumption good.  This is represented by an <code class="docutils literal notranslate"><span class="pre">MxI</span></code> matrix denoted as <span class="math notranslate nohighlight">\(\Pi\)</span>, which has elements <span class="math notranslate nohighlight">\(\pi_{m,i}\)</span> that is the share out consumption good <span class="math notranslate nohighlight">\(i\)</span> that is from output good <span class="math notranslate nohighlight">\(m\)</span>.  Note that the columns of this matrix must sum to one (i.e., we need to fully account for the output goods that go into each input good).  The <span class="math notranslate nohighlight">\(\Pi\)</span> matrix can be calibrated directly from a input-output tables that are typically produced through national accounts.  In the <code class="docutils literal notranslate"><span class="pre">OG-ZAF</span></code> project, there is a nice example of calibrating the <span class="math notranslate nohighlight">\(\Pi\)</span> matrix using input-output data in detailed producer outputs and consumer goods categories available in the social accounting matrix files available from <a class="reference external" href="https://www.wider.unu.edu/social-accounting-matrices">UNU Wider</a>.</p>
</section>
</section>
<section id="international-finance">
<h2>International finance<a class="headerlink" href="#international-finance" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model parameterizes the degree of economic openness with two parameters relating to international capital flows.  The first is the fraction of new government debt issues which are purchased by foreign investors, <code class="docutils literal notranslate"><span class="pre">zeta_D</span></code>.  This parameter can be calibrated through financial accounts data that shows the location of buyers of government debt.  The second parameter reflects the amount of excess capital demand that is satisfied by foreign investors.  Here, excess demand is defined as the difference between the capital demand of firms at the interest rate outside the domestic economy (i.e., the world interest rate) and the capital of demand from firms if they face teh domestic interest rate.  The  parameter <code class="docutils literal notranslate"><span class="pre">zeta_D</span></code> takes a value between zero and one and is the share of this excess demand for capital that foreign investors make up.  A value of zero would represent a closed economy, which no foreign investment in domestic capital. While a value of one represented a small open economy, where the domestic interest rate is equated to the world interest rate since capital flows in (or out) freely.  One cannot look just at financial accounts data to calibrate <code class="docutils literal notranslate"><span class="pre">zeta_D</span></code> , because the excess demand concept is model based and there’s not a direct analog in the data.  Rather, we have utilized an approach of moving the value of <code class="docutils literal notranslate"><span class="pre">zeta_D</span></code> up or down based on the size of the economy relative to the world, with countries that have a smaller share of world financial market activity having a <code class="docutils literal notranslate"><span class="pre">zeta_D</span></code> closer to one. Of course, one would also like to consider any capital controls that may be in place in the economy of interest.  If there are capital controls, then the value of <code class="docutils literal notranslate"><span class="pre">zeta_D</span></code> should be set to a smaller value.</p>
</section>
<section id="fiscal-policy">
<h2>Fiscal policy<a class="headerlink" href="#fiscal-policy" title="Permalink to this heading">#</a></h2>
<p>Governments in the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model may raise revenue through the taxation of personal and corporate income,  payroll taxes, consumption taxes, taxes on bequests, and wealth taxes. These revenues, along with government borrowing, as you used to finance expenditures on transfers, government investment in infrastructure, spending on a public good, and interest payments on debt.  Here, we discuss the calibration of each of these parameters.</p>
<section id="tax-rates">
<h3>Tax rates<a class="headerlink" href="#tax-rates" title="Permalink to this heading">#</a></h3>
</section>
<section id="pension-systems">
<h3>Pension systems<a class="headerlink" href="#pension-systems" title="Permalink to this heading">#</a></h3>
</section>
<section id="spending-parameters">
<h3>Spending parameters<a class="headerlink" href="#spending-parameters" title="Permalink to this heading">#</a></h3>
<p>Government spending, at least that is modeled outside of the net tax functions or pension functions, is modeled as an exogenous fraction of GDP, with an exception in some parameterizations that we discuss below.  By calibrating spending as a fraction of GDP, on avoids any need to convert between model and data units and it also more accurately mimics the empirical fact that the size of governments tends to grow with the size of the economy.  There are three spending related parameters that are shares of GDP.  These are <code class="docutils literal notranslate"><span class="pre">alpha_G</span></code>, the ratio of government spending on public goods to GDP, <code class="docutils literal notranslate"><span class="pre">alpha_T</span></code>, the ratio of government spending on transfers to GPD, and <code class="docutils literal notranslate"><span class="pre">alpha_I</span></code>, the ratio of government spending on infrastructure to GDP.</p>
<p>To calibrate these ratios, one can generally use national accounts data in combination with government budget reports.  The challenging piece to ensure that the definition of spending in the data and the model are aligned.  For example, if you are explicitly modeling the pension system and using the net tax functions to capture some non-pension spending programs (such as income-tested welfare benefits), then you will want to exclude those spending programs when computing total transfers by year as the numerator in the <code class="docutils literal notranslate"><span class="pre">alpha_T</span></code> ratio.  Another strategy, to make sure you are fully capturing government outlays, is to compute one of the spending ratios as a residual.  For example, if you have data on government spending on public goods and transfers (again, after taking out what is accounted for in the modeling of pensions and taxes), you can compute the infrastructure spending ratio as a residual (= 1 - <code class="docutils literal notranslate"><span class="pre">alpha_G</span></code> - <code class="docutils literal notranslate"><span class="pre">alpha_T</span></code>).</p>
<p>The default way in which total transfers, <span class="math notranslate nohighlight">\(TR_t = alpha_{T,t} * GDP_{t}\)</span> gets allocated to households is as a lump-sum, uniformly distributed transfer.  But you can adjust this distribution to match the true distribution of transfers across the population by adjusting the <code class="docutils literal notranslate"><span class="pre">eta</span></code> parameter. This is a three dimensional array that is <code class="docutils literal notranslate"><span class="pre">TxSxJ</span></code>. It sums to one in each model period and represents the fraction of transfers in that year distributed to each age (<code class="docutils literal notranslate"><span class="pre">S</span></code>) and lifetime income group (<code class="docutils literal notranslate"><span class="pre">J</span></code>). You can thus approximate the age and mean-tested transfers with this matrix, as well as policy changes that affect the distribution of transfers across the population over time.</p>
<p>As a final note, one will need to set the value for the initial infrastructure to GDP ratio, <code class="docutils literal notranslate"><span class="pre">initial_Kg_ratio</span></code>.  To find this, one needs an estimate of the stock of public infrastructure.  If no report exists reporting this an approximation would be to say that <span class="math notranslate nohighlight">\(K_g = \frac{I_g,t} / \delta_{g}\)</span>, where <span class="math notranslate nohighlight">\(I_{g,t}\)</span> is the among of infrastructure spending (at present or averaged over recent years) and <span class="math notranslate nohighlight">\(\delta_g\)</span> is the ratio of depreciation on this infrastructure (e.g., 2% per annum).</p>
</section>
<section id="government-financing-parameters">
<h3>Government financing parameters<a class="headerlink" href="#government-financing-parameters" title="Permalink to this heading">#</a></h3>
<p>Governments can run an unbalanced budget, but in order for an equilibrium to exist, deficits must be restricted such that they do not grow faster than GDP (if they did, interest payments on the debt would grow beyond available resources).  Governments therefore can borrow to finance outlays.  As there is no idiosyncratic risk on private capital in the model, we build in a risk premium by allowing the government to borrow at a rate lower than the private market.  If the rate the private market pays is given by <code class="docutils literal notranslate"><span class="pre">r</span></code>, then the government pays an interest rate of <code class="docutils literal notranslate"><span class="pre">r_gov</span> <span class="pre">=</span> <span class="pre">r_gov_scale</span> <span class="pre">*</span> <span class="pre">r</span> <span class="pre">-</span> <span class="pre">r_gov_shift</span></code>.  The <code class="docutils literal notranslate"><span class="pre">r_gov_scale</span></code> and <code class="docutils literal notranslate"><span class="pre">r_gov_shift</span></code> parameters are two that one would calibrate to the economy in question.  We advise doing this by looking at the historical haircut on private interest rates that the government has paid.  For example, if the government has paid an average interest rate of 1.5 percentage points below the private market, then <code class="docutils literal notranslate"><span class="pre">r_gov_scale</span></code> would be 1.0 and <code class="docutils literal notranslate"><span class="pre">r_gov_shift</span></code> would be 0.015.  One can do this in a systematic manner by finding time series data on government debt and corporate debt of the same maturity and estimating the two parameters directly.  For example, with these data you can estimate, via OLS, the following equation:</p>
<div class="math notranslate nohighlight">
\[r_{gov,t} = \alpha + \beta r_{corp,t} + \epsilon_t\]</div>
<p>where <span class="math notranslate nohighlight">\(r_{gov,t}\)</span> is the interest rate on government debt and <span class="math notranslate nohighlight">\(r_t\)</span> is the interest rate on corporate debt.  The parameter <span class="math notranslate nohighlight">\(\beta\)</span> would then be the value of <code class="docutils literal notranslate"><span class="pre">r_gov_scale</span></code> and <span class="math notranslate nohighlight">\(\alpha\)</span> would be the negative of the value of <code class="docutils literal notranslate"><span class="pre">r_gov_shift</span></code>.</p>
<p>Finally, we need to calibrate the initial government debt to GDP ratio, <code class="docutils literal notranslate"><span class="pre">initial_debt_ratio</span></code>.  This is done by finding the ratio of government debt to GDP in the most recent year of data and setting <code class="docutils literal notranslate"><span class="pre">initial_debt_ratio</span></code> equal to that value.</p>
</section>
</section>
<section id="id2">
<h2>Exercises<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h2>
<div class="exercise admonition" id="ExerCalib-macro_datareader">

<p class="admonition-title"><span class="caption-number">Exercise 74 </span></p>
<section id="exercise-content">
<p>The <a class="reference external" href="https://fred.stlouisfed.org">Federal Reserve Economic Database</a> (FRED) contains macroeconomic data for a number of countries and a user friendly interface.  In addition, tools, such as <a class="reference external" href="https://pandas-datareader.readthedocs.io"><code class="docutils literal notranslate"><span class="pre">pandas-datareader</span></code></a> make it extremely easy to access the FRED API.  In this exercise, use <code class="docutils literal notranslate"><span class="pre">pandas-datareader</span></code> to download the quarterly, real GDP time series for South Africa from FRED.  Plot it.</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-macro_freq">

<p class="admonition-title"><span class="caption-number">Exercise 75 </span></p>
<section id="exercise-content">
<p>Now, use the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime-objects"><code class="docutils literal notranslate"><span class="pre">datetime</span></code></a> object functions to collapse the quarterly GDP data to annual data.  Plot it.</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-macro_gy">

<p class="admonition-title"><span class="caption-number">Exercise 76 </span></p>
<section id="exercise-content">
<p>With your annual data, compute the annual growth rate for each year.  Plot the time series of growth rates.</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-macro_reg">

<p class="admonition-title"><span class="caption-number">Exercise 77 </span></p>
<section id="exercise-content">
<p>Now let’s estimate the autocorrelation in GDP growth, assuming is a first order auto-regressive process (AR1).  We’ll do this with the <code class="docutils literal notranslate"><span class="pre">statsmodles.OLS</span></code> function.</p>
<p>First, create a new column in your data frame that is the lagged value of GDP growth.  Then, use the <a class="reference external" href="https://www.statsmodels.org/dev/generated/statsmodels.regression.linear_model.OLS.html"><code class="docutils literal notranslate"><span class="pre">statsmodels.regression.linear_model.OLS</span></code></a> function to estimate the following equation:</p>
<div class="math notranslate nohighlight">
\[y_{t} = \alpha  + \rho y_{t-1} + \varepsilon_{t}\]</div>
<p>What did you estimate as <span class="math notranslate nohighlight">\(\alpha\)</span>?  What does this represent?  How persistent is the growth process in South Africa?</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-macro_???">

<p class="admonition-title"><span class="caption-number">Exercise 78 </span></p>
<section id="exercise-content">
<p>Other??</p>
</section>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="earnings-processes">
<h1>Earnings Processes<a class="headerlink" href="#earnings-processes" title="Permalink to this heading">#</a></h1>
<p>An important component of the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model are the household earnings processes.  These help to match real difference across age and households in earnings ability and are a key set of parameters to model income inequality. Household earnings are endogenous and depend on the households’ decisions to work and save given the state of the economy and household preferences and ability.  What is exogenous to the model are how productive households are with each unit of labor they supply, i.e., their earnings ability.  <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> assumes that there are <code class="docutils literal notranslate"><span class="pre">J</span></code> groups of households with different earnings abilities.  Within each group, the earnings ability process is deterministic and known to the household, although labor productivity of these workers vary over their working life.  Fore example, consider <a class="reference internal" href="#usa-earn"><span class="std std-numref">Figure 6</span></a>, which shows the log of effective labor units for each of seven lifetime income groups, estimated in the United States.  Each group is defined by their “potential” earnings over their lifetime (i.e., if they worked full time, what would they earn over a 40 year career) and grouped by their percentile rank in the distribution of lifetime incomes. We can see that the top 1% of lifetime earnings have higher productivity in each year of working life, but because productivity varies with age, this gap is not constant.  Rather, it’s largest during the peak earnings year of middle age and then is quite small at older ages.</p>
<figure class="align-default" id="usa-earn">
<a class="bg-primary mb-1 reference internal image-reference" href="OG/images/USA_ability_profiles.png"><img alt="USA_earn" class="bg-primary mb-1" src="OG/images/USA_ability_profiles.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">Log Effective Labor Units by Lifetime Income Group, Estimated in the United States</span><a class="headerlink" href="#usa-earn" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>In <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code>, these earnings processes are described by <code class="docutils literal notranslate"><span class="pre">SxJ</span></code> matrix, with each cell representing the effective labor units for a given age and lifetime income group.  Note that this matrix is normalized such that the average value of earnings ability is one.  It is assumed that these processes remain constant over time, so despite growth in the level of productivity through the exogenous technological growth,</p>
<p>To estimate the earnings processes in <a class="reference internal" href="#usa-earn"><span class="std std-numref">Figure 6</span></a>, we used administrative data from tax returns the covered a panel of US taxpayers over four decades.  A detailed description of this process is given in the <a class="reference external" href="https://pslmodels.github.io/OG-USA/content/calibration/earnings.html"><code class="docutils literal notranslate"><span class="pre">OG-USA</span></code> documentation</a>. Suffice it to say, this estimation process is quite involved and requires a large panel dataset in individual or household earnings, ideally without censoring the top end. In many contexts, these data may not be available.  We therefore will describe here an approximation technique that is less data intensive, and leave the more involved estimation process for the interested reader to explore in the <code class="docutils literal notranslate"><span class="pre">OG-USA</span></code> documentation.</p>
<p>To approximate the earnings processes in a country of interest, we recommend starting with the <code class="docutils literal notranslate"><span class="pre">OG-USA</span></code> calibration and then applying a transformation to these earnings processes to match the distribution of income in the target country.<a class="footnote-reference brackets" href="#e-mat-zaf-note" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>.  Specifically, one will find mean earnings by age for the target country… TODO: getcode to link to in OG-ZAF from Marcelo <em>or</em> just reference the methods in OG-IND/MYS.</p>
<section id="id4">
<h2>Exercises<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h2>
<div class="exercise admonition" id="ExerCalib-earn_plot">

<p class="admonition-title"><span class="caption-number">Exercise 79 </span></p>
<section id="exercise-content">
<p>Use <a class="reference external" href="https://github.com/PSLmodels/OG-USA/blob/master/ogusa/income.py"><code class="docutils literal notranslate"><span class="pre">income.py</span></code> from <code class="docutils literal notranslate"><span class="pre">OG-USA</span></code></a> to retrieve the earnings process matrix.  Read through the docstrings of each function to see which to use.  With the <code class="docutils literal notranslate"><span class="pre">e</span></code> matrix that is returned, create a line plot of the earnings at each age for the <code class="docutils literal notranslate"><span class="pre">J</span></code> different types.</p>
</section>
</div>
<div class="exercise admonition" id="ExerCalib-earn_approx">

<p class="admonition-title"><span class="caption-number">Exercise 80 </span></p>
<section id="exercise-content">
<p>Now we’re going to adjust the above earnings process to match the Gini coefficient in a country that isn’t the U.S. (note that the Gini coefficient for income in the U.S. was 41.5 in 2019). The transformation we’ll make is:</p>
<div class="math notranslate nohighlight">
\[e_{C} = e_{USA} e^{a * e_{USA}}\]</div>
<p>where <span class="math notranslate nohighlight">\(C\)</span> represents the country of interest. We will find <span class="math notranslate nohighlight">\(a\)</span> by matching the Gini coefficient in the country of interest.  To do this, we’ll use the <code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code> module.  First, create a function that takes <span class="math notranslate nohighlight">\(a\)</span> as an argument and returns the Gini coefficient in the country of interest (hint: the <a class="reference external" href="https://github.com/PSLmodels/OG-Core/blob/9d7c814bafd210a581ffebf7df6f357aa5b2a048/ogcore/utils.py#L463"><code class="docutils literal notranslate"><span class="pre">ogusa.utils.Inequality</span></code></a> class object will be helpful here).  Then, use the <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize_scalar</span></code> function to find the value of <span class="math notranslate nohighlight">\(a\)</span> that minimizes the difference between the Gini coefficient in the country of interest and the Gini coefficient in the U.S.  Finally, use the value of <span class="math notranslate nohighlight">\(a\)</span> you found to transform the <code class="docutils literal notranslate"><span class="pre">e</span></code> matrix from the U.S. to the country of interest.  Plot the earnings processes in the U.S. and the country of interest.  How do they differ?</p>
</section>
</div>
</section>
<section id="footnotes">
<span id="secogcalibrationfootnotes"></span><h2>Footnotes<a class="headerlink" href="#footnotes" title="Permalink to this heading">#</a></h2>
<hr class="footnotes docutils" />
<aside class="footnote brackets" id="stationary-note" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>For specifics on how this is done, please see the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> <a class="reference external" href="https://pslmodels.github.io/OG-Core/content/theory/stationarization.html">Stationarization Chapter</a>.</p>
</aside>
<aside class="footnote brackets" id="e-mat-zaf-note" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>For a discussion with the original application of this method from Marcelo LaFluer see the <code class="docutils literal notranslate"><span class="pre">OG-ZAF</span></code> repo’s <a class="reference external" href="https://github.com/EAPD-DRB/OG-ZAF/pull/28">Pull Request #28</a>.</p>
</aside>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./OG"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="Output.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Loading <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</p>
      </div>
    </a>
    <a class="right-next"
       href="../appendix/glossary.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Glossary</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Calibrating the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#demographics">Demographics</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#macro-parameters">Macro parameters</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#economic-growth-and-production">Economic growth and production</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#firm-production">Firm production</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#international-finance">International finance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fiscal-policy">Fiscal policy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tax-rates">Tax rates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pension-systems">Pension systems</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spending-parameters">Spending parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#government-financing-parameters">Government financing parameters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Exercises</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#earnings-processes">Earnings Processes</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#footnotes">Footnotes</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jason DeBacker and Richard W. Evans
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>