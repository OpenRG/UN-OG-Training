

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Loading OG-Core output &#8212; UN OG-Core Overlapping Generations Model Training</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'OG/Output';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Calibrating the OG-Core model" href="Calibration.html" />
    <link rel="prev" title="Simulating a change in OG-Core" href="Simulation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/UN-OG-Training_logo_long.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/UN-OG-Training_logo_long.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    United Nations OG-Core Overlapping Generations Model Training
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Coding in Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../python/intro.html">Introduction to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/StandardLibrary.html">Python Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/ExceptionsIO.html">Exception Handling and File Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/OOP.html">Object Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/NumPy.html">NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/Pandas.html">Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/Matplotlib.html">Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/SciPy.html">SciPy: Root finding, minimizing, interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/DocStrings.html">Docstrings and Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/UnitTesting.html">Unit Testing</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Git and GitHub</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../git/intro.html">Git and GitHub</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">OG Macro Model</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Overlapping Generations Macro Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install.html">Installing <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code></a></li>

<li class="toctree-l1"><a class="reference internal" href="Simulation.html">Simulating a change in <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code></a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Loading <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</a></li>



<li class="toctree-l1"><a class="reference internal" href="Calibration.html">Calibrating the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../appendix/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/intro.html">Appendix</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../UN-OG-Training_references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/OpenRG/UN-OG-Training" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/OpenRG/UN-OG-Training/issues/new?title=Issue%20on%20page%20%2FOG/Output.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/OG/Output.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Loading OG-Core output</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Loading <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#interpreting-og-core-output">Interpreting <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summarizing-og-core-output">Summarizing <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tabular-output">Tabular output</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#excercises">Excercises:</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="loading-og-core-output">
<span id="chap-ogoutput"></span><h1>Loading <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output<a class="headerlink" href="#loading-og-core-output" title="Permalink to this heading">#</a></h1>
<p>When run, the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model saves model output in the <code class="docutils literal notranslate"><span class="pre">baseline_dir</span></code> and <code class="docutils literal notranslate"><span class="pre">output_base</span></code> files paths, which are set in the <code class="docutils literal notranslate"><span class="pre">Specifications</span></code> class object.  For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>     <span class="n">p</span> <span class="o">=</span> <span class="n">Specifications</span><span class="p">(</span>
        <span class="n">baseline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">num_workers</span><span class="o">=</span><span class="n">num_workers</span><span class="p">,</span>
        <span class="n">baseline_dir</span><span class="o">=</span><span class="s2">&quot;C:\User\OG-Core\Simulation24\Baseline&quot;</span><span class="p">,</span>
        <span class="n">output_base</span><span class="o">=</span><span class="s2">&quot;C:\User\OG-Core\Simulation24\Baseline&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">baseline_dir</span></code> argument refers to the path where the baseline output will be saved.  The <code class="docutils literal notranslate"><span class="pre">output_base</span></code> refers to the path where the output for the given simulation (baseline or reform) will be saved. So in the example above, we are running the baseline simulation (hence <code class="docutils literal notranslate"><span class="pre">baseline=True</span></code>) and so we have <code class="docutils literal notranslate"><span class="pre">baseline_dir</span></code> and <code class="docutils literal notranslate"><span class="pre">output_dir</span></code> set to the same path. If this were a run of a policy reform, we would have a different path for <code class="docutils literal notranslate"><span class="pre">output_base</span></code> and <code class="docutils literal notranslate"><span class="pre">baseline_dir</span></code> would be the path to the baseline output. Even the reform run needs to know where the <code class="docutils literal notranslate"><span class="pre">baseline_dir</span></code> is because it will use the baseline solution to inform starting values for the reform simulation.</p>
<p>Within the baseline and reform directories, model solution outputs are saved for both the steady-state solution and the transition path.  These will be in subdirectories with the structure:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
    baseline_dir
        |-- SS/SS_vars.pkl
        |-- TPI/TPI_vars.pkl
    output_base
        |-- SS/SS_vars.pkl
        |-- TPI/TPI_vars.pkl
```
</pre></div>
</div>
<p>In each of the <code class="docutils literal notranslate"><span class="pre">pickle</span></code> files, one will find a dictionary object with the model output.  The keys of the dictionary are the names of the variables and the values are the values of the variables.  For example, the <code class="docutils literal notranslate"><span class="pre">SS_vars.pkl</span></code> file contains the steady-state solution values for the model variables. This dictionary is created in <code class="docutils literal notranslate"><span class="pre">ogcore.SS.SS_solver</span></code>.  In the steady-state output, objects may be scalars, arrays of length <code class="docutils literal notranslate"><span class="pre">S</span></code>, arrays of length <code class="docutils literal notranslate"><span class="pre">M</span></code>, or arrays that are <code class="docutils literal notranslate"><span class="pre">SxJ</span></code> or <code class="docutils literal notranslate"><span class="pre">SxJxI</span></code> in dimension.<a class="footnote-reference brackets" href="#sjmi-def" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> For the time path solution, the output dictionary is created in <code class="docutils literal notranslate"><span class="pre">ogcore.TPI.run_TPI</span></code>.  Variables contained in this dictionary may be arrays of length <code class="docutils literal notranslate"><span class="pre">T</span></code> or multidimensional arrays of dimensions <code class="docutils literal notranslate"><span class="pre">TxS</span></code>, <code class="docutils literal notranslate"><span class="pre">TxM</span></code>, <code class="docutils literal notranslate"><span class="pre">TxI</span></code>, <code class="docutils literal notranslate"><span class="pre">TxSxJ</span></code>, <code class="docutils literal notranslate"><span class="pre">TxSxJxI</span></code>.<a class="footnote-reference brackets" href="#t-def" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p>
<p>To load one of these output dictionaries, one can use the <code class="docutils literal notranslate"><span class="pre">pickle</span></code> package in Python directly or the utility function in <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code>, <code class="docutils literal notranslate"><span class="pre">ogcore.utils.safe_read_pickle:</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="kn">import</span> <span class="nn">pickle</span>
    <span class="n">ss_output</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;C:\User\OG-Core\Simulation24\Baseline\SS\SS_vars.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="interpreting-og-core-output">
<h1>Interpreting <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output<a class="headerlink" href="#interpreting-og-core-output" title="Permalink to this heading">#</a></h1>
<p>It is important to note that model output is measured in model units, which do not directly relate to units of GDP, either real of nominal.  Because of this, and because the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> framework is designed to simulation counterfactual analysis (and only secondarily to match a macroeconomic forecast) we prefer to interpret model output in terms of percentage changes between the baseline and reform simulations. For example, if one baseline and reform solutions for the steady-state with interest rates of 4% and 5%, respectively, it is often more useful to report results like “the model predicts that implementing reform X will increase the long run interest rate by one percentage point” rather than “the model predicts that implementing reform X will increase the long run interest from 4% to 5%.”  The latter statement can be misleading because there are many assumptions underlying the long run interest rate of 4% in the baseline scenario, and economic forecasts may not even have such a long term horizon.  Instead, by reporting percentage changes, we net out many of the assumptions underlying the baseline scenario and can more easily compare results across different economic forecasts (i.e., with and without the reform we are considering).</p>
<p>If you absolutely need to translate model output into nominal or real values, there are at least a couple options.  In any case, it’s important to note that <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> is a real model (i.e., there is no inflation in the model) and the model output is stationarized.  That is, the underlying population growth and economic growth in the model (summarized by the <code class="docutils literal notranslate"><span class="pre">g_n</span></code> and <code class="docutils literal notranslate"><span class="pre">g_y</span></code> parameters, respectively) is necessarily netted out when computing the model solution and all output is given in these “de-trended” values.</p>
<p>The first, and perhaps simplest, way to convert model output to nominal or real values is to find economics forecasts of the variables of interest and use these to scale the model output.  For example, if you are interested in the movement of GDP, you could find a forecast GDP over some horizon and use use the model output to create an alternative forecast under the counterfactual reform scenario. For example, suppose the 10-year baseline forecast (in real of nominal units of local currency) for GDP is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    ```
    GDP_baseline = [100, 102, 104, 106, 108, 110, 112, 114, 116, 118]
    ```
</pre></div>
</div>
<p>And let’s suppose that the percentage difference in GDP between the baseline and reform simulations is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    ```
    GDP_diff = [0.01, 0.02, 0.03, 0.04, 0.05, 0.06, -0.01, -0.02, -0.03, -0.04]
    ```
</pre></div>
</div>
<p>Then the reform forecast for GDP would be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    ```
    GDP_reform = GDP_baseline * (1 + GDP_diff)
               = [101.00, 104.04, 107.12, 110.24, 113.40, 116.60, 110.88, 111.72, 111.52, 113.28]
    ```
</pre></div>
</div>
<p>A limitation of the the above approach is that it requires a forecast of the variable of interest. But given such a forecast, it is relatively easy to scale the model output to real or nominal units and you will have the model baseline match the forecast by construction.</p>
<p>A second approach is to take the model very seriously and scale model outputs directly to real world units.  This involves two or three steps: (i) Add the trend back to the model output, (ii) convert the model output to units of local currency (in real terms), (iii - optional) turn the real units into nominal units by applying a price deflator.  Let’s use GDP and an example again. The model output of GDP will be in <code class="docutils literal notranslate"><span class="pre">TPI_vars[&quot;Y&quot;]</span></code>, which is a one-dimensional array of length <code class="docutils literal notranslate"><span class="pre">T</span></code>.  To add back the trend growth, one will need to multiple the series by the cumulative growth rates. What we want to get is:</p>
<div class="highlight-math notranslate"><div class="highlight"><pre><span></span>    Y_{t} = \prod_{u=0}^{t} (1 + g_{n,t}) * \hat{Y}_t * \exp(g_y * t)
</pre></div>
</div>
<p>Where <span class="math notranslate nohighlight">\(Y_{t}\)</span> is the nonstationary value of GDP and <span class="math notranslate nohighlight">\(\hat{Y}_t\)</span> is the model stationarized value of <a class="reference external" href="http://GDP.To">GDP.To</a> compute this for the full vector of GDP in Python one would do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">non_stationary_Y</span> <span class="o">=</span> <span class="n">TPI_vars</span><span class="p">[</span><span class="s2">&quot;Y&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cumprod</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">g_n</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">g_y</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">T</span><span class="p">))</span>
</pre></div>
</div>
<p>The next step is to convert the model output to units of real local currency.  This is done by multiplying the model output by the value of <code class="docutils literal notranslate"><span class="pre">factor_ss</span></code> from the baseline steady-state solution.  The <code class="docutils literal notranslate"><span class="pre">factor_ss</span></code> variable is used to convert model units to local currency since certain forms of the individual income tax functions are not scale invariant and thus since they are estimated in units of local currency, we need to make a conversion when applying them in the model.[^tax_scale_note] So to convert the model output to units of local currency, one would do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">local_currency_Y</span> <span class="o">=</span> <span class="n">non_stationary_Y</span> <span class="o">*</span> <span class="n">SS_vars</span><span class="p">[</span><span class="s2">&quot;factor_ss&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Finally, if one wants to convert the model output to nominal units, one would need to apply a price deflator.  The price deflator would related to some forecasted inflation rate from outside the model.  Assuming a vector of length <code class="docutils literal notranslate"><span class="pre">T</span></code> of forecasted inflation rates, <code class="docutils literal notranslate"><span class="pre">pi</span></code>, one would compute nominal values as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">nominal_Y</span> <span class="o">=</span> <span class="n">local_currency_Y</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cumprod</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">pi</span><span class="p">)</span>
</pre></div>
</div>
<p>The advantage of this approach is that you can apply it to all the model outputs.  The disadvantages include the complexity of the calculations and the factor that the model’s baseline solution may not match forecasts from outside the model.  This might be a problem, for example, if there needs to be a consistent macroeconomic forecast from baseline simulations across a number of different models.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="summarizing-og-core-output">
<h1>Summarizing <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output<a class="headerlink" href="#summarizing-og-core-output" title="Permalink to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> has a number of useful tabulations and plotting functions that can be used to summarize model output.  These are contained in the <code class="docutils literal notranslate"><span class="pre">ogcore.output_tables</span></code> and <code class="docutils literal notranslate"><span class="pre">ogcore.output_plots</span></code> modules.  Note that some of the functions in the models are specifically for steady-state output, while others are for time path output.  A few functions can accommodate both.  For specifics of working with each of the functions in these modules, we refer the reader to the <a class="reference external" href="https://pslmodels.github.io/OG-Core/content/api/public_api.html"><code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> API documentation</a>.  But we provide an example of interacting with one tabular and one plotting function below.</p>
<section id="tabular-output">
<h2>Tabular output<a class="headerlink" href="#tabular-output" title="Permalink to this heading">#</a></h2>
<p>TODO: make the below an executable cell</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="kn">import</span> <span class="nn">ogcore.output_tables</span> <span class="k">as</span> <span class="nn">ot</span>
    <span class="c1"># Read pickle files cached on web for convenience</span>
    <span class="n">base_tpi</span> <span class="o">=</span> <span class="n">ogcore</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">safe_read_pickle</span><span class="p">(</span><span class="s2">&quot;C:\User\OG-Core\Simulation24\Baseline\TPI\TPI_vars.pkl&quot;</span><span class="p">)</span>
    <span class="n">base_params</span> <span class="o">=</span> <span class="n">ogcore</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">safe_read_pickle</span><span class="p">(</span><span class="s2">&quot;C:\User\OG-Core\Simulation24\Baseline\TPI\TPI_vars.pkl&quot;</span><span class="p">)</span>
    <span class="n">reform_tpi</span> <span class="o">=</span> <span class="n">ogcore</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">safe_read_pickle</span><span class="p">(</span><span class="s2">&quot;C:\User\OG-Core\Simulation24\Baseline\TPI\TPI_vars.pkl&quot;</span><span class="p">)</span>
    <span class="n">reform_params</span> <span class="o">=</span> <span class="n">ogcore</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">safe_read_pickle</span><span class="p">(</span><span class="s2">&quot;C:\User\OG-Core\Simulation24\Baseline\TPI\TPI_vars.pkl&quot;</span><span class="p">)</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">ot</span><span class="o">.</span><span class="n">macro_table</span><span class="p">(</span><span class="n">base_tpi</span><span class="p">,</span> <span class="n">base_params</span><span class="p">,</span> <span class="n">reform_tpi</span><span class="p">,</span> <span class="n">reform_params</span><span class="p">,</span> <span class="n">output_type</span><span class="o">=</span><span class="s2">&quot;pct_diff&quot;</span><span class="p">,</span> <span class="n">num_years</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>TODO: glue table dataframe below that is produced from the cell above</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="excercises">
<h1>Excercises:<a class="headerlink" href="#excercises" title="Permalink to this heading">#</a></h1>
<div class="exercise admonition" id="ExerOGoutput-life_cycle">

<p class="admonition-title"><span class="caption-number">Exercise 62 </span></p>
<section id="exercise-content">
<p>Run SS of baseline and reform and plot lifecycle profile diffs in levels and pct changes</p>
</section>
</div>
<div class="exercise admonition" id="ExerOGoutput-change_units">

<p class="admonition-title"><span class="caption-number">Exercise 63 </span></p>
<section id="exercise-content">
<p>Take TPI output from XXX and convert to constant units of local currency</p>
</section>
</div>
<div class="exercise admonition" id="ExerOGoutput-baseline">

<p class="admonition-title"><span class="caption-number">Exercise 64 </span></p>
<section id="exercise-content">
<p>Example where pass a baseline forecast to <code class="docutils literal notranslate"><span class="pre">ogcore.parameter_plots.plot_aggregates</span></code> to get diff</p>
</section>
</div>
<div class="exercise admonition" id="ExerOGoutput-TPI_table">

<p class="admonition-title"><span class="caption-number">Exercise 65 </span></p>
<section id="exercise-content">
<p>Create macro table with TPI output from XXX</p>
</section>
</div>
<div class="exercise admonition" id="ExerOGoutput-plot_aggregates">

<p class="admonition-title"><span class="caption-number">Exercise 66 </span></p>
<section id="exercise-content">
<p>Plot macro aggregates from TPI output from XXX</p>
</section>
</div>
<hr class="footnotes docutils" />
<aside class="footnote brackets" id="sjmi-def" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Recall that <code class="docutils literal notranslate"><span class="pre">S</span></code> refers to the maximum number of model periods an individual may be economically active and <code class="docutils literal notranslate"><span class="pre">J</span></code> refers to the number of ability types.  The number of production industries is given by <code class="docutils literal notranslate"><span class="pre">M</span></code> and the number of consumption goods by <code class="docutils literal notranslate"><span class="pre">I</span></code>.</p>
</aside>
<aside class="footnote brackets" id="t-def" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>The number of periods in the transition path is given by <code class="docutils literal notranslate"><span class="pre">T</span></code>.
[^tax_scale_note] This is done in functions in the <code class="docutils literal notranslate"><span class="pre">ogcore.tax</span></code> module. The value of <code class="docutils literal notranslate"><span class="pre">factor_ss</span></code> is endogenous and is solved for in the steady-state equilibirum by finding the value of the factor that makes the mean household income in the steady-state solution equal the mean household income from data used to estimate the tax functions.</p>
</aside>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./OG"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="Simulation.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Simulating a change in <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code></p>
      </div>
    </a>
    <a class="right-next"
       href="Calibration.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Calibrating the <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> model</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Loading <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#interpreting-og-core-output">Interpreting <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summarizing-og-core-output">Summarizing <code class="docutils literal notranslate"><span class="pre">OG-Core</span></code> output</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tabular-output">Tabular output</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#excercises">Excercises:</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jason DeBacker and Richard W. Evans
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>